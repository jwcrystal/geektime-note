# 管理設計篇之部署升級策略

微服務部署升級策略是一個關鍵的話題，因為它可以確保服務在更新時不會中斷。

下面是一些常用的微服務部署升級策略：

1. 滾動升級：滾動升級是一種逐步將新版本服務部署到生產環境的策略。這種方法可以減少對系統的影響，因為每次只更新一部分實例，而不是一次性更新所有實例。在每個步驟中，您可以執行一些測試以確保新版本服務的性能和可靠性。

2. 藍綠部署：藍綠部署是一種在生產環境中同時部署兩個版本的策略。其中一個版本（藍色）是當前正在使用的穩定版本，而另一個版本（綠色）是新版本。在測試和準備就緒後，可以將流量切換到綠色版本。如果出現問題，可以立即將流量切換回藍色版本。

3. 金絲雀部署：金絲雀部署是一種逐步將新版本服務部署到生產環境的策略，但與滾動升級不同，它只在小部分實例上進行測試。這種方法可以確保新版本的性能和可靠性，同時最小化對系統的影響。如果測試成功，可以逐步將流量從舊版本切換到新版本。

4. A/B 測試：A/B 測試是一種在生產環境中同時部署兩個版本的策略，**用來測試應用功能表現的方法**。其中一個版本（A）是當前正在使用的版本，而另一個版本（B）是新版本。在測試和準備就緒後，可以將一部分流量切換到 B 版本，以評估其性能和效果。如果測試成功，可以逐步將更多的流量切換到 B 版本，最終完全替換 A 版本。

另外就是簡單直接的停機部署，主要是為了新版本的一致性問題，不會出現新老版本同時在線的情況。

藍綠部署是為了不停機，灰度部署是對**新版的質量**沒信心。而 AB 測試是對**新版的功能**沒信心。

![](media/16837070680545/16837085580833.jpg)


文章 5 月 Day10 學習筆記，內容來源於極客時間 [《左耳聽風》](http://gk.link/a/1232R)
